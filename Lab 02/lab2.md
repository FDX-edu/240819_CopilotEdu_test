# Microsoft Copilot Studio의 엔터티

Microsoft Copilot Studio는 NLU(자연어 이해)를 사용하여 사용자가 말하는
내용을 해석하고 사용자 발화를 기존 주제와 일치시키려고 합니다. 예를 들어
사용자가 \"*기프트 카드를 사용하려고 했는데 작동하지 않습니다*\"라고
말하는 경우 부조종사는 정확한 구문이 트리거 구문으로 나열되지 않은
경우에도 기프트 카드가 작동하지 않는 것과 관련된 주제로 사용자를
라우팅해야 한다는 것을 알고 있습니다. 이 개념은 **의도 인식이라고도
합니다**.

NLU는 부조종사가 사용자 입력에서 엔터티를 식별하는 데도 도움이 될 수
있습니다. 엔터티는 문장에서 식별하고 추출하려는 핵심 정보를 나타냅니다.
전화번호, 우편번호, 도시, 케이스 ID, 사람 이름 등이 될 수 있습니다.
사용자 고유의 엔터티를 정의할 수도 있습니다. 부조종사는 사용자 입력에서
관련 정보를 인식한 다음 나중에 사용할 수 있도록 저장할 수 있습니다.

예를 들어 사용자가 \"*레드 커피 머신 50대를 원합니다\"라고 입력하면*
AI는 다음을 이해할 수 있습니다.

-   \"**50**\"은 숫자 \"50\"이며 구매할 제품의 수이기도 합니다.

-   \"**빨간색**\"은 색상이며 구매할 제품의 색상입니다.

-   \"**커피 머신**\"은 그 사람이 구매하고자하는 제품을 의미합니다.

Microsoft Copilot Studio에서 일부 주제(예: 숫자 및 색상)는 이미
부조종사를 위해 AI에게 학습되었습니다. 부조종사 작성자는 이 실습에서
시연된 것처럼 \"커피 머신\"이 제품이라는 사실과 같은 다른 주제를
지정해야 합니다.

두 가지 유형의 엔터티는 다음과 같습니다.

-   **Prebuilt** -- 나이, 색상, 번호 및 이름과 같이 가장 많이 사용되는
    정보를 나타냅니다. Microsoft Copilot Studio는 이러한 엔터티를
    자동으로 인식할 수 있습니다. 이러한 엔터티는 Microsoft Copilot
    Studio의 엔터티 목록에 표시됩니다.

-   **Custom(사용자 지정**) -- 사용자가 만드는 개체입니다. 미리 빌드된
    엔터티는 일반적으로 사용되는 정보 유형을 다루지만 부조종사의 자연어
    이해 모델에 일부 도메인별 지식을 가르쳐야 하는 경우가 있습니다. 예를
    들어 제품 유형 목록에 대한 **폐쇄 목록 엔터티**를 만들어야 할 수
    있습니다. 또는 **문자, 숫자 및 특수 문자를 결합하는 명명 패턴(예**:
    지원 요청 ID의 경우 \"*SR-00001*\")을 따르는 특정 문자열을
    인식하도록 정규식을 기반으로 엔터티를 구성할 수 있습니다.

비공개 목록 엔터티에 대한 스마트 매칭 및 동의어는 부조종사를 보다
직관적으로 만들 수 있습니다.

-   **스마트 매칭** -- 부조종사가 사용자의 입력을 거의 일치하지만
    완벽하지 않은 엔터티와 일치시킬 수 있는 유연성을 제공합니다. 특히
    Copilot이 맞춤법 오류를 자동 수정하고 \"softball\"을 \"baseball\"에
    자동으로 일치시키는 것과 같이 일치 논리를 의미론적으로 확장할 수
    있습니다. 엔티티에 모델 번호 또는 오류 코드가 포함된 경우와 같이
    완벽하게 일치해야 하는 경우 이 기능을 끌 수 있습니다.

-   **동의어** -- 사용자가 입력한 내용이 제공한 옵션과 일치한다는 것을
    인식할 수 있습니다. 예를 들어 \"*무료 배송*\"의 경우 \"*무료
    배송*\"을 동의어로 추가할 수 있습니다. \"*빠른 배송*\"의 경우 \"*2일
    배송*\" 또는 \"*익일 배송*\"을 동의어로 추가할 수 있습니다. 사용자가
    이러한 구 중 하나를 입력하면 적절하게 일치합니다.

다음 작업에서는 사용자 지정 엔터티를 만들고 이미 만든 항목 내에서
사용하는 방법을 보여 줍니다.

## 작업 1: 엔터티 및 슬롯 채우기 사용

이 작업에서는 개체와 슬롯 채우기를 사용하는 방법을 배웁니다.

1.  Microsoft Copilot Studio에서 부조종사를 연 상태에서 **오른쪽 위
    모서리의** 설정으로 이동하여 **엔터티를** 선택합니다. 그런 다음,
    **Add an entity** 및 **New entity를 선택합니다**.\
    \
    <img src="https://github.com/FDX-edu/240819_CopilotEdu_test/raw/main/Lab%2002/media/image3.png">

3.  Create an entity(엔터티 만들기**)** 대화 상자에서 **Closed List(폐쇄
    목록**)를 선택합니다.

4.  Order Action(주문 작업) 창의 **Name(**이름) 필드에 Order Action(주문
    작업)이라는 이름을 입력합니다.

5.  목록 항목 내에 **Update**(업데이트), Check(확인) 및
    Cancel(취소)이라는 세 가지 옵션을 추가합니다. 각 옵션에 대한
    동의어를 선택하여 동의어를 추가하도록 선택할 수도 있습니다(*이
    작업의 경우 선택 사항*).

6.  스마트 일치 **가 켜져 있는지 확인**한 다음, 저장을 선택합니다.\
    \
    <img src="https://github.com/FDX-edu/240819_CopilotEdu_test/raw/main/Lab%2002/media/image4.png">

이 작업은 주제의 질문 노드 **와 함께 사용하여** 사용자의 전체 응답을
**주문 작업**과 함께 **배치할 수 있는** 주문 작업**이라는 새 엔터티를
만듭니다**.

6.  이전 실습에서 만든 주제인 **주문 상태 확인**으로 돌아가서 원래
    사용자의 전체 응답을 식별하기 위해 만든 질문 노드를 선택합니다.
    **식별**을 선택하면 목록에서 엔티티를 선택할 수 있는 슬라이드아웃
    메뉴가 오른쪽에 표시됩니다.\
    \
    Order Action이라는 이전 단계에서 만든 사용자 지정 엔터티를 검색하여
    선택합니다.\
    \
   <img src="https://github.com/FDX-edu/240819_CopilotEdu_test/raw/main/Lab%2002/media/image5.png">

7.  **사용자에 대한 옵션을 선택한** 다음 사용자에게 표시할 모든 옵션을
    선택합니다.\
    \
    <img src="https://github.com/FDX-edu/240819_CopilotEdu_test/raw/main/Lab%2002/media/image6.png">

8.  **주제** 저장

질문 노드**에 대한 사용자 지정 엔터티를 성공적으로 설정했습니다** . 질문
노드의 기본 동작은 질문 응답이 저장된 변수에 이미 값이 있는 경우 질문을
건너뛰고 묻지 않는 것입니다.

## 작업 2: 모호성 문제 테스트 및 해결

1.  **Test** 창을 사용하여 트리거 문구 중 하나를 입력하여 엔터티 및 슬롯
    채우기가 작동하는 방식을 시도해 보십시오.

```
Can I check on an order?
```

```
주문을 확인할 수 있습니까?
```

랩 시나리오를 따르고 있고 수업 주제를 유지한 경우 명확성 질문이
표시되어야 합니다(예: \"*의미했나요?*\", 가장 관련성이 높은 주제를
선택하도록 요청) 두 개 이상의 주제가 주문과 관련된 유사한 트리거
구문으로 구성되었기 때문입니다.

<img src="https://github.com/FDX-edu/240819_CopilotEdu_test/raw/main/Lab%2002/media/image9.png">

**전문가 팁:** 조종사의 이러한 모호성을 피하려면 다음을 수행할 수 있습니다.

• 중복되는 주제 중 하나를 비활성화합니다.

• 중복되는 주제의 트리거 구문을 업데이트합니다.

• 원하는 주제의 구문 속성, 고급으로 이동하여 여러 주제 일치 항목에 포함을 선택 취소하여 모호성 해소 메커니즘에서 특정 주제를 제외합니다.

• 모호성 해소 질문을 적용한 후 리디렉션을 사용하여 적절한 자식 주제를 호출하는 모든 부모 주제를 설정하여 주제 전략을 미세 조정합니다.

2.  주제 **목록으로 이동합니다**.

3.  를 클릭하십시오 **\...** 옵션을 선택하고 **상태** 설정을 전환하여
    주제를 끕니다.

![컴퓨터 스크린샷 설명 자동
생성](./output/lab2.docx/media/image12.png)

주제 목록에서 시각적 표시기는 비활성화된 주제를 보여줍니다.

## 작업 3: 슬롯 채우기 테스트

1.  테스트 **창** 표시

2.  **새로 고침** 버튼을 사용하여 새 대화를 시작합니다.

3.  트리거 문구 중 하나와 일치하는 문장을 입력하여 entities 및 slot
    filling이 어떻게 작동하는지 시도해 보세요.

  ---------------------------------------------------------------------------------------------------------------------------------------------
        ![열린 따옴표                                                               주문을 확인할 수 있습니까?                             
        윤곽선](./output/lab2.docx/media/image8.svg)                                                                                                     
  ----- --------------------------------------------------------------------------- ------------------------------------------------------ ----

  ---------------------------------------------------------------------------------------------------------------------------------------------

4.  주문 상태 확인 **항목 으로** 이동하여 **변수** 창을 표시하고
    **테스트** 탭에서 **항목** 변수를 확장합니다.

사용자가 주문을 \"확인\"하려는 의도로 이 주제를 트리거하고 트리거 문구
뒤의 후속 질문에서 엔터티가 변수에 슬롯으로 채워졌기 때문에 프로세스가
작동하는 것을 관찰할 수 있습니다. **따라서 질문이 묻지 않고
건너뜁니다**. 이는 엔터티 및 슬롯 채우기를 사용하여 사용자가 제출한
발화에서 정보를 검색했기 때문입니다. 이 방법을 사용하면 사용자가 이미
정보를 제공한 질문을 할 필요가 없습니다.\
\
![컴퓨터 스크린샷 설명 자동
생성](./output/lab2.docx/media/image13.png)

# 변수

이전 랩에서 만든 주제를 향상시키기 시작했습니다. 이전 섹션에서는
엔터티와 슬롯 채우기를 사용하여 사용자의 문장에서 데이터를 자동으로
감지하고 특정 데이터를 변수에 저장했습니다. 이제 질문에서 얻은 데이터를
변수에 사용한 다음 메시지 내에 표시하는 방법을 알아봅니다.

## 작업 1: 변수 유형에 대해 알아보기

변수를 사용하면 최종 사용자의 응답을 저장하여 대화를 안내하는 데 도움이
됩니다(예: 품목의 구매 가격에 따라 반품에 대해 다른 지침을 제공할지 여부
결정). 또한 부조종사의 대화 응답에서 직접 사용할 수 있습니다(예:
\"*{Topic.ProductName}을 반환하는 데 도움을 드릴 수 있습니다*.\").

기본적으로 변수가 생성된 항목에서만 변수 값을 사용할 수 있습니다. 그러나
copilot가 다른 주제에서 동일한 값을 참조하도록 하려면 전역 변수로
만들도록 선택할 수 있습니다(다른 애플리케이션에서 이 개념을 알 수 있음).
기본적으로 대화가 다른 주제로 이동할 때 부조종사는 대화의 이전 주제에서
채워진 변수 값을 기억하고 사용할 수 있습니다. Microsoft Copilot
Studio에서는 Power Fx 수식 및 함수를 사용하여 변수를 설정할 수 있으며,
변수 값 설정 노드를 사용하여 질문 노드 외부에서 변수를 설정할 수
있습니다.

Microsoft Copilot Studio의 다양한 유형의 변수는 다음과 같습니다.

-   **시스템** -- 이러한 변수는 일반적으로 시스템 데이터로 채워집니다.
    시스템 변수는 사용자가 만든 것이 아니며 플랫폼의 일부입니다. 예를
    들어 부조종사에 최종 사용자 인증이 필요한 경우 시스템 변수에는
    사용자 ID, 이메일, 이름 등이 포함될 수 있습니다. 시스템 아래의 변수
    선택에서 작성 캔버스의 시스템 변수에 액세스할 수 있습니다.

-   **주제** -- 이러한 변수는 주제 입력, 변수 값 설정 노드, 질문 노드
    또는 다른 노드 또는 작업(예: 클라우드 흐름, HTTP 요청, 커넥터,
    사용자 지정 프롬프트, 플러그인 작업 등)의 출력으로 사용자가
    만듭니다. 이러한 변수는 기본적으로 범위가 제한되며 생성 중인
    주제에서만 사용할 수 있으며 다른 주제는 사용할 수 없습니다. 다른
    주제에서 값을 수신하고 다른 주제로 값을 리턴할 수 있는 경우 주제
    변수에 대해 이 범위를 확장하기 위해 두 가지 옵션을 사용할 수
    있습니다. 이러한 옵션을 설정하면 주제 변수가 더 이상 주제에서만
    사용되는 것으로 제한되지 않고 다른 주제에서 사용할 수 있습니다. 작성
    캔버스의 Topic 변수는 Custom(사용자 지정) 아래의 변수 선택에서
    액세스할 수 있습니다.

-   **전역** -- 이러한 변수는 사용자가 만들고 모든 주제에서 사용할 수
    있으며, 내에서 트리거되는 주제 수에 관계없이 여러 주제가 대화를 돕기
    위해 사용하는 데이터를 저장하는 좋은 방법입니다. 웹사이트나
    애플리케이션에 부조종사를 내장하는 경우, 컨텍스트 데이터(예: 현재
    페이지, 사용자 언어 등)를 부조종사에 전역 변수로 전달할 수
    있습니다(외부 소스가 값을 설정하도록 구성된 경우). 작성 캔버스의
    Custom(사용자 지정) 아래에 있는 변수 선택에서 전역 변수에 액세스할
    수 있습니다.

Questions(질문), Conditions(조건) 및 Set Variable Value(변수 값 설정)
노드를 포함하여 여러 위치에서 변수를 사용할 수 있습니다. 변수는 Power
Fx를 사용하는 사용자 지정 값, 사용자 입력 값, 질문의 응답 또는 시스템
변수 값일 수 있습니다.

이 첫 번째 연습을 사용하여 변수 값 설정 노드에 익숙해지고 다양한 유형의
변수를 검토할 수 있습니다. 이 작업에는 새 노드를 만들고, 새 변수를
만들고, 변수 이름을 바꾸고, 시스템 수준에서 Microsoft Copilot Studio
내에서 사용할 수 있는 다른 변수를 결정하는 작업이 포함됩니다. 이 작업이
끝나면 이 노드를 삭제합니다.

1.  주제에서 Add node(노드 추가) 버튼을 선택하여 캔버스의 아무 곳에나
    Set variable 노드를 만듭니다. 그런 다음 **변수 관리** \> **변수 값
    설정을** 선택합니다. 이 단계는 변수 옵션을 탐색하기 위한 것이므로
    특정 위치에 변수를 추가하는 것은 중요하지 않습니다. 나중에
    삭제됩니다.\
    \
    ![컴퓨터 스크린샷 설명 자동
    생성](./output/lab2.docx/media/image14.png)

2.  새 **변수 값 설정** 노드가 만들어집니다. 노드 내의 **Set variable**
    섹션에서 Select a variable **메뉴를** 선택합니다 . 측면에 플라이아웃
    패널이 열립니다. 새로 만들기 단추를 선택합니다.\
    \
    ![컴퓨터 스크린샷 설명 자동
    생성](./output/lab2.docx/media/image15.png)

3.  새 변수가 만들어지고 기본적으로 Var1 (또는 Var2 또는 Var3과 같이 이
    이름으로 변수를 이미 만든 경우 다른 번호)이라고 합니다.\
    \
    변수 이름을 선택하여 화면 오른쪽에 있는 변수 속성 패널을 엽니다.
    여기서 변수 이름을 바꾸고 주제 또는 전역에서 변수 범위를 변경할 수
    있습니다.

  -----------------------------------------------------------------------------------------------------------------------------------------------
  ![라이트 온                                                                     **전문가 팁:** 저장되는 데이터를 기반으로 설명적인 이름으로
  아웃라인](./output/lab2.docx/media/image11.svg)                                                 도움이 되고 다른 제작자에게도 도움이 됩니다.
  ------------------------------------------------------------------------------- ---------------------------------------------------------------

  -----------------------------------------------------------------------------------------------------------------------------------------------

![컴퓨터 스크린샷 설명 자동
생성](./output/lab2.docx/media/image16.png)

4.  변수 속성 패널**의 오른쪽 위에 있는 X를 선택하여** 닫습니다. 변수에
    저장하는 데 사용할 수 있는 데이터를 결정합니다. 작성 캔버스에서 만든
    다른 변수를 사용하거나 시스템 변수 또는 수식을 사용할 수 있습니다.
    변수 값 설정(Set variable value) 노드에서 종료 값(To value) 오른쪽에
    있는 화살표를 선택합니다. 사용자 지정, 시스템, 환경 및 수식이라는
    별도의 제목이 포함된 플라이아웃 패널이 나타납니다(이 랩의 뒷부분에서
    설명하는 Power Fx 사용).\
    \
    ![컴퓨터 스크린샷 설명 자동
    생성](./output/lab2.docx/media/image17.png)

5.  **시스템** 제목을 선택하여 시스템 변수 목록을 엽니다. 이제 Microsoft
    Copilot Studio에서 사용하는 모든 변수를 볼 수 있습니다. 이러한
    변수에는 Microsoft Copilot Studio가 채우는 데이터가 포함되어 있으며
    사용자 고유의 변수에서 이 데이터를 사용할 수도 있습니다. 기본적으로
    사용할 수 있는 옵션을 알 수 있도록 이러한 옵션을 검토합니다.\
    \
    ![컴퓨터 스크린샷 설명 자동
    생성](./output/lab2.docx/media/image18.png)

6.  변수 설정 노드 내에서 사용할 수 있는 옵션을 검토했으므로 다음
    스크린샷과 같이 확장된 메뉴 옵션을 선택하고 삭제를 선택하여 이
    노드를 제거할 수 있습니다(다음 실습에서는 사용되지 않음).\
    \
    ![컴퓨터 스크린샷 설명 자동
    생성](./output/lab2.docx/media/image19.png)

7.  작성 캔버스 내의 어느 곳에서나 변수 창을 사용하여 전역 변수를
    포함하여 주제 내의 모든 변수를 검토할 수도 있습니다. 화면 오른쪽
    상단으로 이동하여 변수를 선택하여 이 패널을 봅니다. 주제 내의 모든
    변수, 특히 큰 주제를 검토하는 것이 좋습니다.\
    \
    ![검은색 텍스트가 있는 빨간색 사각형과 사람의 머리가 있는 빨간색
    사각형 설명 자동
    생성](./output/lab2.docx/media/image20.png)

## 작업 2: 전역 변수 사용

이 연습에서는 첫 번째 연습인 주문 상태 확인**의 이전 작업에서 얻은
데이터를 사용하는 방법을 배웁니다**. 이 시점에서 항목의 질문 노드가
엔터티에 연결되어 있어야 합니다.

1.  이전 실습에서 아직 수행하지 않은 경우 *열리는 오른쪽 패널에서* 변수
    이름을 **OrderRequest**로 바꾼 다음, **다음** 스크린샷과 같이 다른
    주제가 액세스할 수 있도록 **범위를 로컬(항목)에서 전역으로
    변경합니다**.\
    \
    ![컴퓨터 화면의 스크린 샷 설명 자동
    생성](./output/lab2.docx/media/image21.png)

2.  이제 메시지의 질문 또는 트리거 구문에서 완료한 변수를 동적 데이터로
    사용합니다. 기존의 Thank you for your question! **을
    선택합니다.메시지** 노드를 열고 텍스트를 \'문제 없음\'으로
    변경합니다. 우리는 당신을 위해 그것을 할 수 있습니다. 지금 살펴보고
    귀하의 정보를 얻겠습니다

3.  2개의 공백 사이에 커서를 놓고 **{x}** 변수 아이콘을 선택한 다음
    최근에 만든 **Global.OrderRequest** 변수를 선택합니다. 이 작업은
    리터럴 단어 대신 변수를 삽입하여 사용자 또는 고객의 질문에서 제공된
    데이터를 기반으로 동적으로 만드는 데 일반적입니다.

  ---------------------------------------------------------------------------------------------------------------------------------------------
        ![열린 따옴표                                                               문제 없어요. 우리는 당신을 위해                        
        윤곽선](./output/lab2.docx/media/image8.svg)를 할 수 있습니다. 지금 살펴보고  
        height="0.3802241907261592in"}                                              귀하의 정보를 얻겠습니다                               
  ----- --------------------------------------------------------------------------- ------------------------------------------------------ ----

  ---------------------------------------------------------------------------------------------------------------------------------------------

> ![컴퓨터 화면의 스크린샷 설명 자동
> 생성](./output/lab2.docx/media/image22.png)

4.  **구해내다**

5.  **테스트** 옵션을 선택하여 Copilot의 동작과 트리거 구문으로 항목을
    트리거하여 변경한 내용을 테스트합니다. 다음 스크린샷은 이 프로세스의
    작동 방식을 보여 줍니다.

  ---------------------------------------------------------------------------------------------------------------------------------------------
        ![열린 따옴표                                                               안타깝게도 주문을 취소해야 하는데, 도와주실 수         
        윤곽선](./output/lab2.docx/media/image8.svg)                                                                                                     
  ----- --------------------------------------------------------------------------- ------------------------------------------------------ ----

  ---------------------------------------------------------------------------------------------------------------------------------------------

![채팅 스크린샷 설명 자동
생성](./output/lab2.docx/media/image23.png)

6.  **OrderRequest** 값의 첫 글자는 여전히 대문자로 되어 있습니다. 이
    문법 문제를 해결하려면 변수 값을 직접 참조하는 대신 수식을 사용하여
    단어를 낮추도록 선택할 수 있습니다. 메시지 노드로 돌아가서 초기 변수
    값 {Global.OrderRequest}를 제거하고, 대신 **fx** 단추를 선택하고
    Lower() Power Fx 수식을 사용합니다. 수식 내에서 변수 값을 참조하는
    방법을 확인합니다.

  ---------------------------------------------------------------------------------------------------------------------------------------------
        ![열린 따옴표                                                               하위(Global.OrderRequest)                              
        윤곽선](./output/lab2.docx/media/image8.svg)                                                                                                     
  ----- --------------------------------------------------------------------------- ------------------------------------------------------ ----

  ---------------------------------------------------------------------------------------------------------------------------------------------

![컴퓨터 스크린샷 설명 자동
생성](./output/lab2.docx/media/image24.png)

  -----------------------------------------------------------------------------------------------------------------------------------------------
  ![라이트 온                                                                     **전문가 팁:** 변수 관리 옵션에는 모든 변수 값을 지우는 모든
  아웃라인](./output/lab2.docx/media/image11.svg)                                                 반복하되 새 값을 사용하려는 경우, 특히 이미 값이 있는 경우
                                                                                  질문을 건너뛸 수 있는 질문 동작 속성을 설정한 경우에
                                                                                  유용합니다.
  ------------------------------------------------------------------------------- ---------------------------------------------------------------

  -----------------------------------------------------------------------------------------------------------------------------------------------

**변수는** 다음 작업에서 관찰하겠지만, 특정 방식으로 대화 행동을
유도하기 위해 조건을 수행하거나 확인하려는 데이터 또는 동적 데이터를
저장하는 가장 좋은 방법입니다.

이 작업을 완료하신 것을 축하드립니다. 이제 Microsoft Copilot Studio에서
변수와 다양한 유형을 검토했습니다.

# 조건에서 변수 사용

주제는 현재 엔터티 및 슬롯 채우기 기능으로 두 번째 실습에서
업데이트되었으며, 동적 데이터를 사용하여 변수를 저장하고 메시지에서 해당
변수를 재사용하여 동적 작성 환경을 제공합니다. 이제 Microsoft Copilot
Studio의 조건문에서 동일한 변수를 사용합니다.

Microsoft Copilot Studio의 조건문을 사용하여 조종 장치 작성자는 true,
false 또는 다른 조건(예: 비어 있는 경우)일 수 있는 특정 조건에서 동작을
확인할 수 있습니다. 조건문은 작성 캔버스에서 유연성을 허용하고 촉진하여
여러 유사한 주제를 만들 필요성을 제한하는 동시에 고객의 요구에 따라
뛰어난 고객 또는 사용자 경험을 제공할 수 있습니다. 조건을 사용하기
시작한 후에는 Copilot을 사용하는 사용자가 이동할 수 있는 별도의 흐름을
만드는 분기를 만듭니다. 이러한 분기에는 만들려는 동작에 따라 고유한
조건이 있을 수 있습니다.

조건에 대한 자세한 내용은 조건을 사용하여 작성을 참조하십시오.

## 작업 1: 변수를 사용하여 조건 만들기

이 작업에서는 첫 번째 연습에서 사용자 지정 엔터티에 사용된 세 가지 변수
옵션을 기반으로 조건을 만듭니다.

1.  작성 캔버스의 이전 작업에서 수정한 메시지 노드에서 더하기(**+**)
    아이콘을 선택하여 새 노드를 추가한 다음 **조건 추가를 선택합니다**.\
    \
    ![채팅 스크린샷 설명 자동
    생성](./output/lab2.docx/media/image25.png)

2.  두 개의 새 노드가 나타나는데, 하나는 **조건**이고 다른 하나는 다른
    모든 조건에 **대한 예외입니다**.\
    \
    조건 **노드**에서 **변수 선택** 옵션을 선택한 다음 **OrderRequest**
    전역 변수를 선택합니다.\
    \
    ![컴퓨터 스크린샷 설명 자동
    생성](./output/lab2.docx/media/image26.png)

3.  조건 연산자를 같음으로 유지 한 다음 아래의 빈 상자를 선택하여 선택한
    변수에서 사용 가능한 세 가지 옵션을 표시합니다. **업데이트** 옵션을
    선택하십시오 -- 펼침 단추 아이콘(\>)이 아닌 값 부분을 *입력하거나
    선택*했는지 확인하십시오.\
    \
    ![컴퓨터 화면의 스크린샷 설명 자동
    생성](./output/lab2.docx/media/image27.png)

4.  이제 OrderRequest가 **Update**와 같은 **경우 완료된 조건이
    표시됩니다**.

5.  OrderRequest 변수**에 대한 두 가지 다른 옵션(확인 및 취소)에 대해 이
    분기에 두 개의 조건을 더 만듭니다**. 더하기**(+)** 아이콘을 선택하여
    조건 위에 노드를 추가한 다음, **조건 추가를** 선택하여 다른 조건부
    분기를 추가합니다.\
    \
    ![컴퓨터 스크린샷 설명 자동
    생성](./output/lab2.docx/media/image28.png)

6.  Global.OrderRequest **변수를** 선택하여 이전 단계를 반복 한 다음 두
    개의 다른 조건에서 **확인** 및 **취소** 옵션을 선택하여 다음
    스크린샷과 같이 **세 가지 옵션(**다른 모든 조건 포함)이 있는 조건부
    분기를 만듭니다.\
    \
    ![컴퓨터 스크린샷 설명 자동
    생성](./output/lab2.docx/media/image29.png)

7.  각 condition 노드 아래에 다음 예제와 같이 조건에 따라 다른 텍스트를
    표시하는 Message 노드를 추가합니다.

  ---------------------------------------------------------------------------------------------------------------------------------------------
        ![열린 따옴표                                                               잠시 동안, 나는 당신을 위해 당신의 주문을 업데이트 할  
        윤곽선](./output/lab2.docx/media/image8.svg)                                                                                                     
  ----- --------------------------------------------------------------------------- ------------------------------------------------------ ----

  ---------------------------------------------------------------------------------------------------------------------------------------------

![컴퓨터 화면의 스크린샷 설명 자동
생성](./output/lab2.docx/media/image30.png)

  -----------------------------------------------------------------------------------------------------------------------------------------------
  ![라이트 온                                                                     **전문가 팁:** 노드를 선택하고 왼쪽 상단의 생산성 도구 메뉴로
  아웃라인](./output/lab2.docx/media/image11.svg)                                                 동일한 생산성 도구 메뉴를 사용하거나 **(+)** 아이콘을 사용하여
                                                                                  새 노드를 추가할 때 노드를 붙여넣을 수 있습니다.
  ------------------------------------------------------------------------------- ---------------------------------------------------------------

  -----------------------------------------------------------------------------------------------------------------------------------------------

8.  **주제를 저장**한 다음 **테스트** 옵션을 선택하여 사용자가 다양한
    메시지 결과를 보도록 유도하는 다양한 트리거 문구와 조건을
    탐색합니다.

조건은 사용자가 이전 질문에서 선택하거나 답변한 내용을 기반으로 맞춤형
환경을 만드는 데 도움이 되는 기본 도구입니다. 더 복잡한 논리를 위해 다른
조건 내에 조건을 중첩할 수 있습니다.

축하합니다, 이제 조건을 사용하고 변수를 조건 내의 매개변수로 사용하는
기본 사항을 완료했습니다.

# 주제 노드 사용

Microsoft Copilot Studio를 사용하면 작성자가 에스컬레이션 주제와 같은
다른 주제로 리디렉션할 수 있습니다. 일반적으로 주제는 사용자가 인텐트
일치를 트리거하는 Copilot에 입력하거나 말하는 내용을 기반으로 또는
에스컬레이션, 대화 시작 및 이벤트 기반 트리거가 있는 기타 시스템 주제와
같은 이벤트를 기반으로 트리거되도록 설정됩니다. 또한 사용자는 작성된
대화 내에서 다른 주제를 적절한 위치로 이동시키거나 현재 주제 내에서 다른
노드로 루프를 수행할 수 있습니다.

## 작업 1: 주제 유형 노드에 익숙해지기

이 랩의 이전 연습에서 작업한 항목에서 더하기**(+)** 아이콘을 선택하여 새
노드를 추가한 다음, **항목 관리를** 선택합니다. 다음 스크린샷과 같이
사용 가능한 명령 목록이 표시됩니다.\
\
![컴퓨터 스크린샷 설명 자동
생성](./output/lab2.docx/media/image31.png)

**주제 관리** 메뉴에서 다음 옵션 중에서 선택할 수 있습니다.

-   **다른 주제로 이동** -- 이 노드에는 선택해야 하는 다른 주제로 이동할
    수 있는 확장된 플라이아웃 메뉴가 있습니다.

+------+---------------------------------------------------------------+
| ![라 | **전문가 팁:**                                                |
| 이트 |                                                               |
| 온   | -   몇 개의 큰 주제보다 한 입 크기의 주제를 여러 개 만드는    |
| 아   |     것이 더 관리하기 쉬운 경우가 많습니다 . 이 접근 방식을    |
| 웃라 |     사용하면 트리거 문구를 해당 영역을 다루는 특정 주제에     |
| 인]  |     명확하게 매핑하여 트리거링을 보다 효과적으로 만드는 데도  |
| (./o |     도움이 됩니다.                                            |
| utpu |                                                               |
| t/la | -   큰 주제는 유지 관리 및 업데이트하기 어려울 수 있으므로    |
| b2.d |     특히 봇 대화 논리의 일부를 여러 주제에서 공유할 수 있는   |
| ocx/ |     경우 가능한 경우 copilot 논리를 세분화하는 것이 좋습니다. |
| medi |     이 개념을 재사용 가능한 주제라고 합니다.                  |
| a/im |                                                               |
| age1 | -   주제가 다른 주제로 리디렉션되고 다양한 정보를 앞뒤로      |
| 1.sv |     전달할 수 있으므로 주제에 모두 트리거 문구가 있을 필요는  |
| g){w |     없습니다.                                                 |
| idth |                                                               |
| ="0. |                                                               |
| 4724 |                                                               |
| 4094 |                                                               |
| 4881 |                                                               |
| 8897 |                                                               |
| 6in" |                                                               |
| hei  |                                                               |
| ght= |                                                               |
| "0.4 |                                                               |
| 7244 |                                                               |
| 0944 |                                                               |
| 8818 |                                                               |
| 8976 |                                                               |
| in"} |                                                               |
+======+===============================================================+
+------+---------------------------------------------------------------+

-   **현재 주제 종료** -- 이 옵션을 선택하면 현재 주제가 종료됩니다.
    일반적으로 주제가 다른 주제에서 호출된 경우 이 옵션을 사용합니다.
    원래 호출된 위치로 반환됩니다. 분기 조건에서도 이 옵션을 사용할 수
    있습니다. 분기의 전체 토픽을 종료하기 위해 이 옵션을 선택하면 동작이
    **모든 토픽 종료** 노드와 유사하게 작동합니다.

-   **모든 주제 종료** -- 이 노드는 모든 활성 주제를 종료합니다.
    사용자의 다음 메시지는 새 대화로 간주되며 해당 사용자 메시지를
    기반으로 가장 적합한 주제를 트리거하여 새 활성 주제를 시작합니다.

-   **대화 전송** -- 상담원에게 전송하고 상황에 맞는 메시지를 보내려면
    이 옵션을 선택합니다.

-   **단계로 이동** -- 부조종사 작성자가 열려 있는 주제의 다른 노드로
    이동할 수 있습니다. 이 옵션은 시나리오를 반복하거나 사용자로부터 더
    많은 정보를 수집하려는 경우에 유용합니다.

-   **대화 종료** -- **endOfConverastion** 활동을 보냅니다. 이는
    클라이언트 채팅 위젯(예: 웹사이트에 배포됨)이 채팅 세션이 끝났음을
    확인하는 데 유용할 수 있습니다.

이제 주제 관리 기능의 기본 사항에 익숙해졌으므로 다음 작업을 위해 **다른
주제로 이동** 노드를 사용하는 연습을 할 수 있습니다. **다른 주제로
이동** 노드는 대화 상자에서 사용자가 요청하는 내용에 따라 조건의 다른
주제를 적용하려는 경우에 유용합니다.

## 작업 2: 다른 주제로 이동 노드 사용

이 작업에서는 **다른 주제로 이동** 노드를 사용하는 방법을 학습합니다.

1.  주제에서 마지막 작업을 완료했고 **작성 캔버스에** Condition 노드가
    있는지 확인합니다.

2.  모든 주제가 목록 보기에 표시되는 주제 페이지로 돌아갑니다. Order
    Cancellation(주문 취소)이라는 비어 있는 새 항목을 만듭니다. 이
    항목에는 트리거 구문이 필요하지 않으므로 트리거 유형을 리디렉션으로
    변경합니다. 취소를 승인하는 단일 메시지 노드를 추가한 다음 이 항목을
    저장합니다.

  ---------------------------------------------------------------------------------------------------------------------------------------------
        ![열린 따옴표                                                               주문이 취소되었습니다, 감사합니다.                     
        윤곽선](./output/lab2.docx/media/image8.svg)                                                                                                     
  ----- --------------------------------------------------------------------------- ------------------------------------------------------ ----

  ---------------------------------------------------------------------------------------------------------------------------------------------

> ![컴퓨터 스크린샷 설명 자동
> 생성](./output/lab2.docx/media/image32.png)

3.  **이 항목** 저장

4.  Condition 분기 **가 있는** Check Order Status**라는 원래 주제로
    돌아갑니다** . 조건이 취소로 설정된 분기 내에서 메시지 노드 **아래에
    새 노드를 만든** 다음, **토픽 관리를** 선택합니다. 그런 다음,
    플라이아웃 메뉴에서 **다른 항목으로 이동**을 선택한 다음, 다음
    스크린샷과 같이 목록에서 **주문 취소** 항목을 찾아 선택합니다
    (이름으로 항목을 검색하거나 항목 목록을 스크롤하여 지정된 항목을
    찾을 수 있음).\
    \
    ![컴퓨터 스크린샷 설명 자동
    생성](./output/lab2.docx/media/image33.png)

5.  이전 작업의 세 가지 조건이 표시되어야 합니다. **Cancel** 조건부
    분기에는 다른 주제에 대한 리디렉션이 포함되어야 하며, 이 리디렉션은
    사용자가 만든 새 주제로 리디렉션하여 승인 메시지를 보냅니다. 주제를
    **저장하고** 테스트 **옵션을** 선택하여 동작을 테스트 합니다.\
    \
    ![컴퓨터 스크린샷 설명 자동
    생성](./output/lab2.docx/media/image34.png)

축하합니다, 이제 주제 관리 메뉴에서 사용할 수 있는 작업에 익숙해졌습니다
. 계속하기 전에 **주제 관리(Topic management**) 아래의 다른 옵션을
검토하는 것이 유용 하지만 다음 연습으로 이동하는 데 반드시 필요한 것은
아닙니다.

# 질문 노드 동작

이전에 이 실습에서는 **질문** 노드의 기본 사항을 다루 었으며 엔터티 및
슬롯 채우기를 사용하여 이 개념을 기반으로 했습니다. 사용자의 응답을
저장하는 것 외에도 **질문** 노드에는 설정할 수 있는 더 많은 동작 옵션이
있습니다. 한 가지 옵션은 연결된 변수에 이미 값이 포함되어 있는 경우
질문을 건너뛸 수 있는 기능입니다. 이전 연습에서 이 프로세스가 작동하는
것을 관찰했는데, 부조종사에게 명령을 확인하도록 요청했을 때 질문을
건너뛰었습니다. 엔터티 및 슬롯 채우기를 사용하여 Microsoft Copilot
Studio가 사용자가 요청한 문장에서 데이터를 검색한 다음 변수 내에
데이터를 저장할 수 있도록 허용했기 때문에 질문을 건너뛰었습니다.
Microsoft Copilot Studio에서 질문 노드에 도달한 후 이미 데이터가
포함되어 있으므로 질문을 다시 할 필요가 없었습니다. 이 접근 방식은
사용자나 고객이 부조종사와 대화할 때 동일한 질문에 여러 번 대답할 필요가
없기 때문에 더 효율적입니다.

1.  주문 상태 확인 **항목** 내에서 **질문** 노드를 선택합니다. 그런
    다음, 다음 스크린샷과 같이 질문 노드의 오른쪽 위 모서리에 있는
    줄임표를 선택하여 메뉴를 확장한 다음, 메뉴에서 **속성을** 선택합니다
    .

> ![컴퓨터 스크린샷 설명 자동
> 생성](./output/lab2.docx/media/image35.png)

2.  표시되는 질문 속성 **패널**에서 **질문 동작을** 선택합니다.\
    \
    ![질문의 스크린샷 설명 자동
    생성](./output/lab2.docx/media/image36.png)

**질문** 노드에는 묻는 질문에 대한 사용자의 응답을 더 잘 식별할 수
있도록 몇 가지 구성 가능한 옵션이 있습니다. 이 구성 요소는 대화형 응용
프로그램을 개발할 때 중요합니다. 자연어 응답을 관리하는 백그라운드에서
AI의 유형에 관계없이 사용자는 예기치 않거나 식별할 수 없는 답변을 제공할
수 있기 때문입니다. 이러한 상황에서 부조종사의 행동을 처리할 수 있는
능력은 향상된 고객 경험을 제공하는 데 도움이 됩니다. 이 시나리오는
실생활에서도 발생하는데, 다른 사람에게 질문을 했는데 상대방이 질문을
이해하지 못할 때입니다. 최상의 경험과 대화를 위해서는 원래 이해하지
못했던 동일한 질문을 반복하는 것보다 다르게 말하거나 다르게 행동하는
것이 중요합니다.

질문 동작 **속성 창에서** 선택할 수 있는 질문 동작 컨트롤은 다음과
같습니다.

-   **동작 건너뛰기/질문 건너뛰** 기 -- 부조종사 작성자는 변수에 이미
    값이 있는 경우 질문을 건너뛸 수 있습니다. 질문의 변수는 주제의 다른
    곳, 다른 주제 또는 슬롯 채우기 및 엔터티를 사용하여 설정된 값을 가질
    수 있습니다. 이 동작을 통해 조종 장치 작성자는 질문을 건너뛰거나
    변수에 값이 있는 경우 어쨌든 질문을 할 수 있습니다. 사용 가능한 다른
    옵션으로는 Power Fx를 사용하여 조건을 만들고, 해당 조건이 true인
    경우 질문을 건너뛰는 것이 있습니다.

-   **다시 프롬프트/다시 프롬프트 횟수** -- 질문을 특정 횟수만큼
    반복하도록 동작을 설정할 수 있으며, 드롭다운 메뉴에서 **반복하지
    않**거나, **한 번 반복**하거나, **최대 두 번까지 반복**하도록 선택할
    수 있습니다. 질문 건너뛰기 옵션과 마찬가지로 Power Fx를 사용하여 이
    동작이 발생하는 조건을 설정할 수도 있습니다. 질문을 반복하기 위해
    재시도를 선택한 경우에만 발생하는 재시도 프롬프트 옵션을 수정할 수
    있습니다. **다시 시도 프롬프트** 옵션을 선택하면 다른 메시지를
    추가하여 질문을 바꿀 수 있으며, 메시지 유효성 검사를 추가하여 질문이
    더 자연스럽게 들리고 고객 또는 사용자에게 더 도움이 되도록 할 수
    있습니다.

-   **Additional entity validation/Condition(추가 엔터티 검증/조건**) --
    이 동작은 엔터티가 슬롯을 채울 수 있고 엔터티 유형에 따라 달라지는지
    검증할 특정 조건이 있는 경우에 중요합니다. 조건이 충족되지 않는 경우
    동일한 프롬프트 동작을 사용하여 프롬프트를 변경하여 사용자가 다른
    입력을 제공하도록 유도할 수도 있습니다.

-   **유효한 엔터티를 찾을 수 없음/엔터티를 찾을 수 없는 경우 작업** --
    엔터티를 찾을 수 없는 경우 질문을 건너뛰는 대신 변수를 비워 두거나,
    Power Fx를 사용하여 변수를 특정 또는 동적으로 설정하거나,
    에스컬레이션 시스템 항목을 호출하는 등의 동작을 지정할 수 있습니다.

-   **중단 --** 고객이 질문 노드가 있는 **현재 주제가 아닌 다른 주제로
    전환할 수 있어야 하는지 여부를 나타낼 수** 있습니다 . 이 옵션은
    고객이 다른 질문으로 질문에 대답할 가능성이 있고 단일 질문 노드
    내에서 모든 예외를 처리할 필요 없이 대화를 계속하려는 경우에
    유용합니다.

![설문조사의 스크린샷 설명 자동
생성](./output/lab2.docx/media/image37.png)

이제 질문 노드의 **핵심 기능과 관련 동작을 알았으므로** 메시지 **및**
질문 **노드**에서 서식 있는 텍스트 응답을 탐색할 수 있습니다.

# message 및 question 노드에 대한 rich text 옵션Rich text options for message and question nodes

Microsoft Copilot Studio에는 부조종사를 만들기 위한 몇 가지 확장 기능이
포함되어 있으며 고객에게 긍정적인 대화 환경을 제공합니다. 한 가지 핵심
기능은 메시지 및 질문 노드에 사용할 수 있는 서식 있는 텍스트 작성
기능입니다 .

![채팅 스크린샷 설명 자동
생성](./output/lab2.docx/media/image38.png)

사용할 수 있는 서식 있는 텍스트 작성 옵션의 유형은 다음과 같습니다.

-   **이미지** -- 카드에 표시되는 이미지를 추가할 수 있습니다. 이미지의
    URL과 제목(선택 사항)을 추가합니다.

-   **비디오** -- 공개적으로 사용 가능한 MP4 또는 YouTube 비디오
    URL이어야 하는 비디오 URL을 추가할 수 있습니다.

-   **기본 카드** -- 이 옵션에는 시각적 개체와 같은 적응형 카드를
    제공하는 단순 카드가 포함되지만 이 옵션을 사용하려면 제목, 메시지 및
    기본 작업이 포함된 단추를 추가하는 기능과 같은 표준 입력이
    필요합니다.

-   **적응형 카드** -- 플랫폼에 구애받지 않는 카드인 적응형 카드를
    추가할 수 있으며, 이는 작업 요청, 특정 정보에 중점을 두고 표시되도록
    정보 표시 등을 포함하여 당시의 요구 사항에 맞게 유연하게
    설계되었습니다. Microsoft Copilot Studio는 이러한 랩이 작성된 시점에
    적응형 카드 v.1.5를 지원합니다.

-   **빠른 회신** -- 이 옵션을 사용하면 사용자가 텍스트 기반
    시나리오에서 응답을 입력할 필요 없이 특정 옵션 중에서 선택할 수
    있습니다. 빠른 응답은 선택 사항이므로 사용자는 여전히 자신의 응답을
    입력하거나 말할 수 있습니다. 이러한 회신을 사용하여 일반적인 제안을
    제공하거나 요청되는 정보 유형에 대한 아이디어를 사용자에게 제공해야
    합니다.

메시지 변형은 다음 작업에서 다룹니다. 이제 이러한 동작에 익숙해질 수
있도록 이러한 옵션 중 몇 가지를 설정합니다.

## 작업 1: 메시지 노드에서 서식 있는 텍스트 기능 사용

1.  주제 **탭**으로 이동하여 **시스템** 탭을 선택한 다음 **대화 시작**
    주제를 입력합니다.

2.  기존 **메시지** 노드 에서 **+ 추가**를 선택한 다음, **이미지를**
    선택합니다. 다음 스크린샷과 같이 표시되는 이미지 블록을 선택합니다.
    **제목(Title)** 및 **이미지(Image**) 텍스트 상자가 표시됩니다.
    공개적으로 사용 가능한 이미지에 대한 이미지 URL을 입력해야 합니다.
    필요에 따라 제목 필드를 사용하여 이미지의 이름을 추가할 수도
    있습니다 .

  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        ![열린 따옴표                                                               https://learn.microsoft.com/en-us/training/achievements/build-effective-bots.svg   
        윤곽선](./output/lab2.docx/media/image8.svg)                                                                                                                                 
  ----- --------------------------------------------------------------------------- ---------------------------------------------------------------------------------- ----

  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------

> ![채팅 창의 스크린샷 설명 자동
> 생성](./output/lab2.docx/media/image39.png)

3.  여전히 동일한 주제 및 메시지에서 **+ 추가** 를 다시 선택한 다음,
    **빠른 회신을 선택합니다**.

  ---------------------------------------------------------------------------------------------------------------------------------------------
        ![열린 따옴표                                                               내 주문에 대한 도움말                                  
        윤곽선](./output/lab2.docx/media/image8.svg)                                                                                                     
  ----- --------------------------------------------------------------------------- ------------------------------------------------------ ----

  ---------------------------------------------------------------------------------------------------------------------------------------------

  -----------------------------------------------------------------------------------------------------------------------------------------------
  ![라이트 온                                                                     **전문가 팁:** 빠른 답글은 사용자가 선택할 수 있는 옵션을
  아웃라인](./output/lab2.docx/media/image11.svg)                                                 제안하여 대화를 성공적인 결과로 이끌 수 있습니다.
  ------------------------------------------------------------------------------- ---------------------------------------------------------------

  -----------------------------------------------------------------------------------------------------------------------------------------------

4.  대화 시작 항목 **저장**

5.  주문 상태 확인 **항목**으로 이동합니다.

6.  트리거 **뒤에 새** 질문 **노드를 추가합니다**.

  ---------------------------------------------------------------------------------------------------------------------------------------------
        ![열린 따옴표                                                               주문 번호를 알려주실 수 있으십니까?                    
        윤곽선](./output/lab2.docx/media/image8.svg)                                                                                                     
  ----- --------------------------------------------------------------------------- ------------------------------------------------------ ----

  ---------------------------------------------------------------------------------------------------------------------------------------------

7.  Identify **속성을 변경 하고** Create an Entity**를 선택합니다**.

8.  정규식(Regex)**을 선택하고**, 이름을 Order Number로 지정하고, 해당
    패턴에 대해 ORD-123456과 같은 ID를 자동으로 감지하는 정규식을
    사용합니다

  ---------------------------------------------------------------------------------------------------------------------------------------------
        ![열린 따옴표                                                               ORD-\[0-9\]{6}                                         
        윤곽선](./output/lab2.docx/media/image8.svg)                                                                                                     
  ----- --------------------------------------------------------------------------- ------------------------------------------------------ ----

  ---------------------------------------------------------------------------------------------------------------------------------------------

9.  새 **질문 노드에서** 사용자 응답을 변수로 저장 메뉴를 **선택하고**
    오른쪽의 변수 속성 패널에서 변수 이름을 OrderNumber로 변경합니다.\
    \
    ![컴퓨터 스크린샷 설명 자동
    생성](./output/lab2.docx/media/image40.png)

**다음 단계:** 다음 작업으로 이동하기 전에 다음과 같은 다양한 풍부한
응답 유형으로 이 프로세스를 반복하여 다양한 속성에 익숙해지도록 시간을
할애합니다. 자세한 내용은 메시지 보내기를 참조하십시오.

-   이미지

-   비디오

-   기본 카드

-   적응형 카드

-   빠른 답변

+------+---------------------------------------------------------------+
| ![라 | **전문가 팁:** 적응형 카드 샘플 및 작성 경험은 다음 웹        |
| 이트 | 사이트를 확인하세요.                                          |
| 온   |                                                               |
| 아   | -   <https://adaptivecards.io/samples/>                       |
| 웃라 |                                                               |
| 인]  | -   <https://adaptivecards.io/designer/>                      |
| (./o |                                                               |
| utpu | -   <https://amdesigner.azurewebsites.net/>                   |
| t/la |                                                               |
| b2.d |                                                               |
| ocx/ |                                                               |
| medi |                                                               |
| a/im |                                                               |
| age1 |                                                               |
| 1.sv |                                                               |
| g){w |                                                               |
| idth |                                                               |
| ="0. |                                                               |
| 4724 |                                                               |
| 4094 |                                                               |
| 4881 |                                                               |
| 8897 |                                                               |
| 6in" |                                                               |
| hei  |                                                               |
| ght= |                                                               |
| "0.4 |                                                               |
| 7244 |                                                               |
| 0944 |                                                               |
| 8818 |                                                               |
| 8976 |                                                               |
| in"} |                                                               |
+======+===============================================================+
+------+---------------------------------------------------------------+

# 메시지 변형

메시지 노드를 사용하여 사용자에게 메시지를 표시할 **수 있습니다** .
메시지 노드의 기본 사항은 이전 실습 및 이 실습의 이전 작업에서
다루었습니다. **메시지** 및 **질문** 노드는 메시지 변형도 지원합니다.
**메시지 변형**을 사용하면 단일 노드에 최대 15개의 메시지를 추가할 수
있으므로 부조종사가 트리거될 때 메시지 변형을 임의로 선택할 수 있습니다.
메시지 변형을 사용하면 copilot 작성자가 동일한 메시지 노드에 다양한
스타일의 문장을 추가할 수 있으며, 런타임에 Microsoft Copilot Studio는
토픽이 트리거될 때 하나의 메시지 변형을 임의로 선택합니다. 이 기능은
작성자에게 자연스러운 사운드 상호 작용을 만들 수 있는 기능을 제공하고
고객이 시간이 지남에 따라 부조종사와 상호 작용할 때 보다 자연스러운
사운드 경험을 제공합니다.

***팁:** 주제가 트리거될 때 메시지 변형이 무작위로 선택되기 때문에 특정
스타일에 의존하는 경험을 제공하면서 경우에 따라 차별화를 제공하는 더
작은 확률을 제공하려는 경우 동일한 메시지의 여러 버전을 추가할 수
있습니다.*

다음 연습 에서는 **기존** 메시지 **노드**에 메시지 변형 노드를
추가합니다.

1.  이 실습에서 작업한 주문 상태 확인 **항목을 엽니다** . **이전
    이미지에 표시된** check order **Condition 분기에 있는 것과 같이**
    Message 변형**을 추가할** Message 노드를 선택합니다.

2.  메시지 노드 **내에서** \> 메시지 변형 추가**를 선택합니다**.

> ![](./output/lab2.docx/media/image41.png)

3.  선택한 메시지 변형을 하나 이상 추가하거나 다음 예제를 사용하여
    메시지 노드에서 메시지 변형이 어떻게 쌓이는지 관찰할 수 있습니다.
    예를 들어 **Update** condition path(업데이트 조건 경로)에서 다음을
    수행합니다.

  ---------------------------------------------------------------------------------------------------------------------------------------------
        ![열린 따옴표                                                               절대로. 잠깐 기다리시면 주문을 받겠습니다.             
        윤곽선](./output/lab2.docx/media/image8.svg)                                                                                                     
  ----- --------------------------------------------------------------------------- ------------------------------------------------------ ----

  ---------------------------------------------------------------------------------------------------------------------------------------------

축하합니다, 이제 메시지 노드 사용의 기본 사항을 완료 했습니다 . 이제
테스트 옵션을 선택하여 메시지 변형 테스트를 연습 한 다음 조건을 여러 번
트리거하여 작동하는 것을 관찰할 수 있습니다.

**메시지** 노드에는 이러한 랩에서 다루지 않는 고급 기능인 다른 속성이
있습니다.

# 음성 작성

Microsoft Copilot Studio 내에서 Copilot 제작자는 Message 및 Question
노드에서 SSML(Speech Synthesis Markup Language) 태그를 사용하여 음성
지원 부조종사에 Microsoft Copilot Studio를 사용할 때 동작을 확장할 수
있습니다. 텍스트 작성 및 음성 작성에 Microsoft Copilot Studio를 사용할
수 있습니다. 기본적으로 음성 지원 채널에서는 메시지 노드에 입력된 메시지
텍스트가 텍스트 표시 및 음성에 사용됩니다. 텍스트와 음성에 대해 다른
동작을 제공하여 이 동작을 재정의할 수 있습니다. 예를 들어 문장의 특정
영역이나 이미지 메시지에 더 중점을 두려는 경우 소리 내어 읽을 수 있는
대체 설명을 제공하려는 경우 동작을 재정의할 수 있습니다.

SSML을 사용하는 경우 자연스러운 말처럼 들리도록 텍스트를 합성된 음성으로
변환하는 방법을 설정할 수 있습니다. **Audio**, **Break**, **Emphasis**,
**Prosody**와 같은 SSML 태그를 사용하여 문장이 말하는 방식의 동작을
변경할 수 있습니다.

-   **오디오** - 사전 녹음된 오디오를 추가합니다.

<!-- -->

-   **Break** - 단어 사이에 일시 중지 또는 중단을 삽입합니다.

<!-- -->

-   **강조** - 단어와 구문에 스트레스 수준을 추가합니다.

<!-- -->

-   **운율** - 피치, 윤곽, 범위, 속도 및 볼륨에 대한 변경 사항을
    지정합니다.

자세한 내용은 Speech Synthesis Markup Language를 참조하세요.

# 코드 보기 및 Power Fx

이제 Microsoft Copilot Studio의 작성 기본 사항에 더 익숙해졌으므로
Copilot 환경을 설정하고 추가로 사용자 지정하는 데 사용할 수 있는 몇 가지
확장 기능을 살펴볼 수 있습니다. 다음 섹션에서는 **전문 개발자를 위한**
코드 보기와 **Power Fx**(Microsoft Power Platform 제작자 및 전문
개발자용)의 두 가지 기능에 대해 설명합니다.

Microsoft Copilot Studio에는 토픽 숨김 코드를 볼 수 있는 기능이
있습니다. 이 기능은 고급 제작자 및 프로 코드 개발자에게 매우 유용하며,
웹 브라우저 내에서 직접 구문을 보고 편집할 수 있으며, 저장하면 구문이
그래픽 작성 캔버스에 즉시 표시됩니다. 결과적으로 여러 작업을 복사하고
편집하는 프로세스가 더 빠르고 쉬워집니다. 일부 특정 작업은 코드 편집기
보기에서만 사용할 수 있습니다.

## 작업 1: 코드 편집기에 액세스

다음 단계에 따라 코드 편집기에 액세스합니다.

1.  이 실습에서 작업한 Check **Order Status(주문 상태 확인**)라는 항목을
    엽니다.

2.  항목의 오른쪽 상단에서 **저장** 아이콘 옆에 있는 확장된(**\...**)
    메뉴를 선택한 다음 **다음 스크린샷과 같이** 코드 편집기 열기를
    선택합니다.\
    \
    ![](./output/lab2.docx/media/image42.png)

3.  코드 보기(YAML 코드)에서 대화 상자를 볼 수 있는 코드 편집기가
    열립니다.\
    \
    ![](./output/lab2.docx/media/image43.png)

4.  이 기능을 탐색한 후 오른쪽 위에 있는 **코드 편집기 닫기를**
    선택합니다.

## Microsoft Copilot Studio에서 Power Fx 사용

Power Fx는 Microsoft Copilot Studio에서 사용할 수 있습니다. Power Fx를
사용하면 제작자가 현재 Microsoft Copilot Studio 작성 캔버스 내에서
Microsoft Power Apps 또는 Dataverse의 캔버스 앱에서 수행하는 것과 유사한
기능을 추가할 수 있습니다. Power Fx는 **메시지** 및 **질문** 노드,
**변수 값 설정 노드를 사용할 때 및** 조건**,** 작업**,** 질문 동작
**구성 및** 적응형 카드**와 같은 다른 영역에서** 사용할 수 있습니다. 이
기능을 사용하면 대화형 인터페이스 내에서 고객 및 사용자에게 표시되는
데이터를 보다 효과적으로 제어할 수 있습니다. 또한 Microsoft Copilot
Studio의 런타임에서 일반적인 작업을 수행할 수 있습니다.

다음 작업은 변수 내에서 Power Fx를 사용한 다음 사용자에게 값을 표시하는
기본 시나리오를 살펴봅니다.

## 작업 2: Power Fx를 사용하여 날짜 표시 방법 수정

Power Fx를 사용하여 날짜 표시 방법을 수정하려면 다음 단계를 수행합니다.

1.  이 실습 중에 작업한 **주문 상태 확인 항목을** 엽니다.

2.  \[Check **condition\] 브랜치**에서 **\[Set a variable value**\]
    노드를 추가하고 \[**Create a new variable\]을** 선택합니다.\
    \
    ![](./output/lab2.docx/media/image44.png)

3.  새 변수를 선택하면 **오른쪽에 변수 속성** 창이 열립니다. 변수의
    이름을 OrderDeliveryDate로 변경합니다.\
    \
    변수 값 설정 **노드**의 **To Value**에서 플라이아웃 메뉴를 선택한
    다음 **Formula**를 선택하여 수식 입력 **패널 을 엽니다** . 필요에
    따라 **수식 입력** 창 의 오른쪽 상단에 있는 **확장** 아이콘을
    선택하여 수식을 입력할 수 있는 영역을 확대하고 아래 항목을 붙여넣을
    수 있습니다.

4.  수식 입력줄에 다음 함수를 입력하고 **다음과 같이** 삽입을
    선택합니다.

+----+----+------------------------------------------------------+----+
|    | ![ | 텍스트(                                              |    |
|    | 열 |                                                      |    |
|    | 린 | DateAdd(                                             |    |
|    | 따 |                                                      |    |
|    | 옴 | Now(),                                               |    |
|    | 표 |                                                      |    |
|    | 윤 | 2,                                                   |    |
|    | 곽 |                                                      |    |
|    | 선 | TimeUnit.일                                          |    |
|    | ]  |                                                      |    |
|    | (. | ),                                                   |    |
|    | /o |                                                      |    |
|    | ut | DateTimeFormat.LongDate (영문)                       |    |
|    | pu |                                                      |    |
|    | t/ | )                                                    |    |
|    | la |                                                      |    |
|    | b2 |                                                      |    |
|    | .d |                                                      |    |
|    | oc |                                                      |    |
|    | x/ |                                                      |    |
|    | me |                                                      |    |
|    | di |                                                      |    |
|    | a/ |                                                      |    |
|    | im |                                                      |    |
|    | ag |                                                      |    |
|    | e8 |                                                      |    |
|    | .s |                                                      |    |
|    | vg |                                                      |    |
|    | ){ |                                                      |    |
|    | wi |                                                      |    |
|    | dt |                                                      |    |
|    | h= |                                                      |    |
|    | "0 |                                                      |    |
|    | .4 |                                                      |    |
|    | 69 |                                                      |    |
|    | 73 |                                                      |    |
|    | 64 |                                                      |    |
|    | 39 |                                                      |    |
|    | 19 |                                                      |    |
|    | 51 |                                                      |    |
|    | 00 |                                                      |    |
|    | 6i |                                                      |    |
|    | n" |                                                      |    |
|    | he |                                                      |    |
|    | ig |                                                      |    |
|    | ht |                                                      |    |
|    | =" |                                                      |    |
|    | 0. |                                                      |    |
|    | 38 |                                                      |    |
|    | 02 |                                                      |    |
|    | 24 |                                                      |    |
|    | 19 |                                                      |    |
|    | 07 |                                                      |    |
|    | 26 |                                                      |    |
|    | 15 |                                                      |    |
|    | 92 |                                                      |    |
|    | in |                                                      |    |
|    | "} |                                                      |    |
+====+====+======================================================+====+
+----+----+------------------------------------------------------+----+

> ![](./output/lab2.docx/media/image45.png)
>
> 이 함수는 기술적으로 특정 날짜 및 시간 형식(예: 2024년 5월 31일 오전
> 8:00)이 있는 오늘 날짜와 시간을 사용하고 2일을 추가한 다음 긴 날짜
> 형식(예: 2024년 5월 31일 금요일)으로 형식을 지정합니다. 이 방법은
> 사용자에게 친숙한 간단한 날짜 형식을 표시하거나 날짜를 텍스트 형식의
> 문자열로 저장하려는 경우에 중요합니다.

5.  데모를 위해 Check 경로**의 마지막** 메시지를 **업데이트 하여 구성한
    news 변수를 사용할** 수 있습니다.

  ---------------------------------------------------------------------------------------------------------------------------------------------
        ![열린 따옴표                                                               귀하의 주문 {Topic.OrderNumber}는                      
        윤곽선](./output/lab2.docx/media/image8.svg)까지 배송되어야 합니다.       
        height="0.3802241907261592in"}                                                                                                     
  ----- --------------------------------------------------------------------------- ------------------------------------------------------ ----

  ---------------------------------------------------------------------------------------------------------------------------------------------

6.  **저장을** 클릭합니다.

7.  테스트 창을 열어 Copilot을 테스트하고, 주제를 트리거한 다음, 주제
    프롬프트에 따라 **다음** 스크린샷과 같이 메시지 노드에 도달합니다.

  ---------------------------------------------------------------------------------------------------------------------------------------------
        ![열린 따옴표                                                               안녕하세요, 제 주문 ORD-001342의 상태를 확인해         
        윤곽선](./output/lab2.docx/media/image8.svg)                                                                                                     
  ----- --------------------------------------------------------------------------- ------------------------------------------------------ ----

  ---------------------------------------------------------------------------------------------------------------------------------------------

![](./output/lab2.docx/media/image46.png)

Microsoft Copilot Studio 통합 작성의 중앙 작성 기능에 대한 모든 실습을
성공적으로 완료했습니다.
